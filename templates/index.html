<!DOCTYPE html>
<html>
<head>
    <title>Rubber Ducky Script Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
</head>
<body>

<div class="container">
    <h1>Script Processor</h1>

    <div class="editor-section">
        <div class="box">
            <h2>Input Script</h2>
            <form method="POST" action="/generate">
                <textarea name="script" placeholder="Enter your script here...">{{ request.form.script }}</textarea>
                <button type="submit">Generate Output</button>
            </form>
        </div>

        <div class="box">
            <h2>Output Stream</h2>
            <div class="output">
                <pre><code class="language-bash">{{ output | safe }}</code></pre>
            </div>
            {% if output and "ERROR" not in output %}
            <form method="POST" action="/download">
                <input type="hidden" name="output" value="{{ output | e }}">
                <button type="submit">Download Script</button>
            </form>
            {% endif %}
        </div>
    </div>
</div>
<script>
    Prism.highlightAll();
</script>
</body>
</html>